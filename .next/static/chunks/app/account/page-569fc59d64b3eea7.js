(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[298],{13165:(e,n,t)=>{Promise.resolve().then(t.bind(t,88205))},88205:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>d});var r=t(95155),o=t(66749),i=t(39156),l=t(22949),a=t(31807);function c(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(o.l,{onSubmit:function(e){e.preventDefault();let n=document.getElementById("newpfp");if(!n.files)return;let t=n.files[0],r=new FileReader;r.onload=function(e){var n;fetch("../api/account/pfp",{method:"PUT",body:JSON.stringify({pfp:null==(n=e.target)?void 0:n.result})}).catch(e=>{(0,a.$U)({color:"danger",title:"Something went wrong changeing your pfp",description:"More info in developer console"})})},r.readAsDataURL(t)},children:[(0,r.jsx)(i.r,{label:"New Pfp",type:"file",name:"newpfp",id:"newpfp"}),(0,r.jsx)(l.T,{type:"button",color:"danger",onPress:function(e){fetch("../api/account/pfp",{method:"DELETE"}).catch(e=>{console.error(e),(0,a.$U)({color:"danger",title:"Something went wrong deleting your pfp",description:"More info in developer console"})})},children:"Delete"}),(0,r.jsx)(l.T,{type:"submit",children:"Change"})]})})}function s(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(o.l,{onSubmit:function(e){e.preventDefault();let n=Object.fromEntries(new FormData(e.currentTarget)).newName.toString();if(!n||0===n.length)return void(0,a.$U)({color:"danger",title:"You must have a name"});fetch("../api/account/name",{method:"PUT",body:JSON.stringify({name:n})}).catch(e=>{console.error(e),(0,a.$U)({color:"danger",title:"Something went wrong changing your name",description:"More info in developer console"})})},children:[(0,r.jsx)(i.r,{type:"text",label:"new name",name:"newName"}),(0,r.jsx)(l.T,{type:"submit",children:"Change name"})]})})}function d(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c,{}),(0,r.jsx)(s,{})]})}}},e=>{e.O(0,[807,668,441,964,358],()=>e(e.s=13165)),_N_E=e.O()}]);